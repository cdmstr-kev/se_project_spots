!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},t=(e,t,r)=>{const o=e.querySelector(`#${t.id}-error`);t.classList.remove(r.inputErrorClass),o.textContent="",o.classList.remove(r.errorClass)},r=(e,t,r)=>{(e=>e.some(e=>!e.validity.valid))(e)?o(t,r):(t.classList.remove(r.inactiveButtonClass),t.disabled=!1)},o=(e,t)=>{e.classList.add(t.inactiveButtonClass),e.disabled=!0},n=(e,o,n)=>{o.forEach(r=>{t(e,r,n)});const a=e.querySelector(n.submitButtonSelector);r(o,a,n)};function a(e,t,r="Save",o="Saving..."){t.textContent=e?o:r}function s(e,t,r="Saving..."){t.preventDefault();const o=t.submitter,n=o.textContent;a(!0,o,n,r),e().then(()=>{t.target.reset()}).catch(e=>{console.error("Error updating user info:",e)}).finally(()=>{a(!1,o,n)})}const i=document.getElementById("logo"),c=document.getElementById("profile-picture");i.src="d3610e9c6dce3cb370d8.svg";const l=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}getAppInfo(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}getUserInfo(){return this._request(`${this._baseUrl}/users/me`,{headers:this._headers})}editUserInfo({name:e,about:t}){return this._request(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})})}editUserAvatar({avatar:e}){return this._request(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}editLikeStatus({cardId:e,isLiked:t}){return console.log(t),this._request(`${this._baseUrl}/cards/${e}/likes`,{method:t?"PUT":"DELETE",headers:this._headers})}deleteCard(e){return this._request(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers})}addCard({name:e,link:t}){return this._request(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})})}getInitialCards(){return this._request(`${this._baseUrl}/cards`,{headers:this._headers})}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error ${e.status}`)}_request(e,t){return fetch(e,t).then(this._checkResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"8882c22c-2148-4e06-953e-3bab8baa4120","Content-Type":"application/json"}}),d=document.querySelector(".profile__edit-btn"),u=document.querySelector("#edit-profile-modal"),m=document.querySelector(".profile__name"),_=document.querySelector(".profile__description"),h=document.querySelector(".modal__form"),f=u.querySelector("#profile-name"),v=u.querySelector("#description"),y=document.querySelector("#profile-picture-modal"),p=document.querySelector(".profile__avatar-btn"),S=y.querySelector(".modal__form"),q=y.querySelector("#profile-picture-input"),b=document.querySelector("#delete-card-modal"),E=b.querySelector(".modal__form"),L=b.querySelector(".modal__button_type_cancel"),g=document.querySelector(".profile__new-post-btn"),C=document.querySelector("#new-post-modal"),k=C.querySelector(".modal__button"),U=document.querySelectorAll(".modal__close-btn"),A=document.querySelectorAll(".modal"),x=C.querySelector(".modal__form"),I=C.querySelector("#caption"),$=C.querySelector("#image-link"),B=document.querySelector(".cards__list"),T=document.querySelector("#card-template").content.querySelector(".card"),w=document.querySelector("#preview-modal"),P=w.querySelector(".modal__image"),D=w.querySelector(".modal__caption");let N,O;function j(e){e.classList.add("modal_is-open"),document.addEventListener("keydown",H)}function J(e){e.classList.remove("modal_is-open"),document.removeEventListener("keydown",H)}function H(e){"Escape"===e.key&&A.forEach(e=>{e.classList.contains("modal_is-open")&&J(e)})}function R(e,t="prepend"){const r=function(e){const t=T.cloneNode(!0),r=t.querySelector(".card__description"),o=t.querySelector(".card__image"),n=t.querySelector(".card__icon"),a=t.querySelector(".card__delete-btn");return 1==e.isLiked&&n.classList.add("card__icon_active"),o.src=e.link,o.alt=e.name,r.textContent=e.name,n.addEventListener("click",t=>function(e,t){e.preventDefault();const r=e.target;l.editLikeStatus({cardId:t,isLiked:!r.classList.contains("card__icon_active")}).then(()=>{r.classList.toggle("card__icon_active")}).catch(e=>{console.error("Error editing like status:",e)})}(t,e._id)),a.addEventListener("click",()=>function(e,t){N=e,O=t._id,j(b)}(t,e)),o.addEventListener("click",()=>{!function(e){P.src=e.link,P.alt=e.name,D.textContent=e.name,j(w)}(e)}),t}(e);B[t](r)}var z;U.forEach(e=>{const t=e.closest(".modal");e.addEventListener("click",()=>J(t))}),A.forEach(e=>{e.addEventListener("click",t=>{t.target===e&&J(e)})}),d.addEventListener("click",function(){f.value=m.textContent,v.value=_.textContent,n(u,[f,v],e),j(u)}),p.addEventListener("click",function(){j(y)}),g.addEventListener("click",function(){j(C)}),S.addEventListener("submit",function(t){s(()=>l.editUserAvatar({avatar:q.value}).then(r=>{c.src=r.avatar,J(y),o(t.submitter,e)}),t)}),h.addEventListener("submit",function(e){s(()=>l.editUserInfo({name:f.value,about:v.value}).then(e=>{m.textContent=e.name,_.textContent=e.about,J(u)}),e)}),E.addEventListener("submit",function(e){s(()=>l.deleteCard(O).then(()=>{N.remove(),J(b)}),e,"Deleting...")}),x.addEventListener("submit",function(t){const r={name:I.value,link:$.value};s(()=>l.addCard(r).then(r=>{R(r),J(C),t.target.reset(),o(k,e);const a=Array.from(t.target.querySelectorAll(e.inputSelector));n(t.target,a,e)}),t)}),L.addEventListener("click",()=>{J(b)}),l.getAppInfo().then(([e,t])=>{t.forEach(function(e){R(e,"append")}),m.textContent=e.name,_.textContent=e.about,c.src=e.avatar}).catch(e=>{console.error("Error fetching initial cards:",e)}),z=e,document.querySelectorAll(z.formSelector).forEach(e=>{((e,o)=>{const n=Array.from(e.querySelectorAll(o.inputSelector)),a=e.querySelector(o.submitButtonSelector);r(n,a,o),n.forEach(s=>{s.addEventListener("input",i=>{((e,r,o)=>{r.validity.valid?t(e,r,o):((e,t,r,o)=>{const n=e.querySelector(`#${t.id}-error`);t.classList.add(o.inputErrorClass),n.textContent=r,n.classList.add(o.errorClass)})(e,r,r.validationMessage,o)})(e,s,o),r(n,a,o)})})})(e,z)})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0osYUFhaEM2SixDQUNFM0osRUFDQUMsRUFDQUEsRUFBYTRKLGtCQUNiM0osSUE4Q0F3SixDQUFtQjFKLEVBQWFDLEVBQWNDLEdBQzlDTyxFQUFrQkMsRUFBV0MsRUFBZVQsUUFROUNzSixDQUFrQkQsRUFBUXJKLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3NjcmlwdHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy91dGlscy9BcGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc2V0dGluZ3MgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuY29uc3Qgc2hvd0lucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlLCBjb25maWcpID0+IHtcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuXG4gIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5lcnJvckNsYXNzKTtcbn07XG5cbmNvbnN0IGhpZGVJbnB1dEVycm9yID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZykgPT4ge1xuICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG5cbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5lcnJvckNsYXNzKTtcbn07XG5cbmNvbnN0IGNoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpID0+IHtcbiAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICBzaG93SW5wdXRFcnJvcihcbiAgICAgIGZvcm1FbGVtZW50LFxuICAgICAgaW5wdXRFbGVtZW50LFxuICAgICAgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlLFxuICAgICAgY29uZmlnXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpO1xuICB9XG59O1xuXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XG4gIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gIH0pO1xufTtcblxuY29uc3QgdG9nZ2xlQnV0dG9uU3RhdGUgPSAoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpID0+IHtcbiAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QsIGNvbmZpZykpIHtcbiAgICBkaXNhYmxlQnV0dG9uKGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XG4gIH0gZWxzZSB7XG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcblxuICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxufTtcblxuY29uc3QgZGlzYWJsZUJ1dHRvbiA9IChidXR0b25FbGVtZW50LCBjb25maWcpID0+IHtcbiAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG59O1xuXG5jb25zdCByZXNldFZhbGlkYXRpb24gPSAoZm9ybUVsZW1lbnQsIGlucHV0TGlzdCwgY29uZmlnKSA9PiB7XG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dCwgY29uZmlnKTtcbiAgfSk7XG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcbn07XG5cbmNvbnN0IHNldEV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbGVtZW50LCBjb25maWcpID0+IHtcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKVxuICApO1xuICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcblxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpO1xuICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKTtcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsKSA9PiB7XG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsLCBjb25maWcpO1xuICB9KTtcbn07XG5cbmV4cG9ydCB7IGVuYWJsZVZhbGlkYXRpb24sIHJlc2V0VmFsaWRhdGlvbiwgZGlzYWJsZUJ1dHRvbiwgc2V0dGluZ3MgfTtcblxuIiwiZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckxvYWRpbmcoXG4gIGlzTG9hZGluZyxcbiAgYnV0dG9uLFxuICBidXR0b25UZXh0ID0gXCJTYXZlXCIsXG4gIGxvYWRpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIlxuKSB7XG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICBidXR0b24udGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcbiAgfSBlbHNlIHtcbiAgICBidXR0b24udGV4dENvbnRlbnQgPSBidXR0b25UZXh0O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVTdWJtaXQocmVxdWVzdCwgZXZ0LCBsb2FkaW5nVGV4dCA9IFwiU2F2aW5nLi4uXCIpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY29uc3Qgc3VibWl0QnV0dG9uID0gZXZ0LnN1Ym1pdHRlcjtcblxuICBjb25zdCBpbml0aWFsVGV4dCA9IHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcblxuICByZW5kZXJMb2FkaW5nKHRydWUsIHN1Ym1pdEJ1dHRvbiwgaW5pdGlhbFRleHQsIGxvYWRpbmdUZXh0KTtcblxuICByZXF1ZXN0KClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBldnQudGFyZ2V0LnJlc2V0KCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIHVzZXIgaW5mbzpcIiwgZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHJlbmRlckxvYWRpbmcoZmFsc2UsIHN1Ym1pdEJ1dHRvbiwgaW5pdGlhbFRleHQpO1xuICAgIH0pO1xufVxuIiwiaW1wb3J0IHtcbiAgZW5hYmxlVmFsaWRhdGlvbixcbiAgcmVzZXRWYWxpZGF0aW9uLFxuICBkaXNhYmxlQnV0dG9uLFxuICBzZXR0aW5ncyxcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGlvbi5qc1wiO1xuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBsb2dvIGZyb20gXCIuLi9pbWFnZXMvbG9nby5zdmdcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiO1xuaW1wb3J0IHsgaGFuZGxlU3VibWl0IH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XG5cbmNvbnN0IGxvZ29JbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvZ29cIik7XG5jb25zdCBwcm9maWxlUGljID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9maWxlLXBpY3R1cmVcIik7XG5cbmxvZ29JbWcuc3JjID0gbG9nbztcblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiODg4MmMyMmMtMjE0OC00ZTA2LTk1M2UtM2JhYjhiYWE0MTIwXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuY29uc3QgZWRpdFByb2ZpbGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnRuXCIpO1xuY29uc3QgZWRpdFByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1wcm9maWxlLW1vZGFsXCIpO1xuXG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XG5jb25zdCBwcm9maWxlRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuY29uc3QgcHJvZmlsZU5hbWVJbnB1dCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLW5hbWVcIik7XG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIiNkZXNjcmlwdGlvblwiKTtcblxuY29uc3QgcHJvZmlsZVBpY01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXBpY3R1cmUtbW9kYWxcIik7XG5jb25zdCBwcm9maWxlUGljQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItYnRuXCIpO1xuY29uc3QgcHJvZmlsZVBpY0Zvcm1FbGVtZW50ID0gcHJvZmlsZVBpY01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG5jb25zdCBwcm9maWxlUGljSW5wdXQgPSBwcm9maWxlUGljTW9kYWwucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXBpY3R1cmUtaW5wdXRcIik7XG5cbmNvbnN0IGRlbGV0ZUNhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLWNhcmQtbW9kYWxcIik7XG5jb25zdCBkZWxldGVDYXJkRm9ybUVsZW1lbnQgPSBkZWxldGVDYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IGRlbGV0ZUNhcmRDYW5jZWxCdG4gPSBkZWxldGVDYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIubW9kYWxfX2J1dHRvbl90eXBlX2NhbmNlbFwiXG4pO1xuXG5jb25zdCBuZXdQb3N0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uZXctcG9zdC1idG5cIik7XG5jb25zdCBuZXdQb3N0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1wb3N0LW1vZGFsXCIpO1xuXG5jb25zdCBtb2RhbFN1Ym1pdEJ1dHRvbiA9IG5ld1Bvc3RNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b25cIik7XG5jb25zdCBtb2RhbENsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcbmNvbnN0IG1vZGFsRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsXCIpO1xuXG5jb25zdCBhZGRDYXJkRm9ybUVsZW1lbnQgPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IG5ld1Bvc3RDYXB0aW9uSW5wdXQgPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNjYXB0aW9uXCIpO1xuY29uc3QgbmV3UG9zdExpbmtJbnB1dCA9IG5ld1Bvc3RNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLWxpbmtcIik7XG5jb25zdCBjYXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIik7XG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudFxuICAucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpXG4gIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKTtcblxuY29uc3QgcHJldmlld01vZGFsRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJldmlldy1tb2RhbFwiKTtcbmNvbnN0IHByZXZpZXdNb2RhbEltYWdlID0gcHJldmlld01vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcbmNvbnN0IHByZXZpZXdNb2RhbENhcHRpb24gPVxuICBwcmV2aWV3TW9kYWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XG5cbmxldCBzZWxlY3RlZENhcmQsIHNlbGVjdGVkQ2FyZElkO1xuXG5mdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX2lzLW9wZW5cIik7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlT3Blbk1vZGFsc09uRXNjYXBlKTtcbn1cblxuZnVuY3Rpb24gY2xvc2VNb2RhbChtb2RhbCkge1xuICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfaXMtb3BlblwiKTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgY2xvc2VPcGVuTW9kYWxzT25Fc2NhcGUpO1xufVxuXG5mdW5jdGlvbiBjbG9zZU9wZW5Nb2RhbHNPbkVzY2FwZShldnQpIHtcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICBtb2RhbEVsZW1lbnRzLmZvckVhY2goKG1vZGFsKSA9PiB7XG4gICAgICBpZiAobW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfaXMtb3BlblwiKSkge1xuICAgICAgICBjbG9zZU1vZGFsKG1vZGFsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJDYXJkKGNhcmREYXRhLCBtZXRob2QgPSBcInByZXBlbmRcIikge1xuICBjb25zdCBuZXdDYXJkID0gZ2V0Q2FyZEVsZW1lbnQoY2FyZERhdGEpO1xuICBjYXJkc0NvbnRhaW5lclttZXRob2RdKG5ld0NhcmQpO1xufVxuXG5mdW5jdGlvbiBnZXRDYXJkRWxlbWVudChkYXRhKSB7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgY29uc3QgY2FyZFRpdGxlRWwgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2Rlc2NyaXB0aW9uXCIpO1xuICBjb25zdCBjYXJkSW1hZ2VFbCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gIGNvbnN0IGxpa2VCdG5FbGVtZW50ID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pY29uXCIpO1xuICBjb25zdCBjYXJkRGVsZXRlRWwgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idG5cIik7XG5cbiAgaWYgKGRhdGEuaXNMaWtlZCA9PSB0cnVlKSBsaWtlQnRuRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY2FyZF9faWNvbl9hY3RpdmVcIik7XG5cbiAgY2FyZEltYWdlRWwuc3JjID0gZGF0YS5saW5rO1xuICBjYXJkSW1hZ2VFbC5hbHQgPSBkYXRhLm5hbWU7XG4gIGNhcmRUaXRsZUVsLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuXG4gIGxpa2VCdG5FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PlxuICAgIGhhbmRsZUxpa2VCdG5DbGljayhldnQsIGRhdGEuX2lkKVxuICApO1xuXG4gIGNhcmREZWxldGVFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cbiAgICBoYW5kbGVEZWxldGVDYXJkKGNhcmRFbGVtZW50LCBkYXRhKVxuICApO1xuXG4gIGNhcmRJbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgaGFuZGxlSW1hZ2VDbGljayhkYXRhKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVMaWtlQnRuQ2xpY2soZXZ0LCBpZCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICBjb25zdCBsaWtlQnRuRWxlbWVudCA9IGV2dC50YXJnZXQ7XG5cbiAgYXBpXG4gICAgLmVkaXRMaWtlU3RhdHVzKHtcbiAgICAgIGNhcmRJZDogaWQsXG4gICAgICBpc0xpa2VkOiAhbGlrZUJ0bkVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9faWNvbl9hY3RpdmVcIiksXG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBsaWtlQnRuRWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9faWNvbl9hY3RpdmVcIik7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGVkaXRpbmcgbGlrZSBzdGF0dXM6XCIsIGVycik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soZGF0YSkge1xuICBwcmV2aWV3TW9kYWxJbWFnZS5zcmMgPSBkYXRhLmxpbms7XG4gIHByZXZpZXdNb2RhbEltYWdlLmFsdCA9IGRhdGEubmFtZTtcbiAgcHJldmlld01vZGFsQ2FwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcblxuICBvcGVuTW9kYWwocHJldmlld01vZGFsRWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmQoY2FyZEVsZW1lbnQsIGRhdGEpIHtcbiAgc2VsZWN0ZWRDYXJkID0gY2FyZEVsZW1lbnQ7XG4gIHNlbGVjdGVkQ2FyZElkID0gZGF0YS5faWQ7XG4gIG9wZW5Nb2RhbChkZWxldGVDYXJkTW9kYWwpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDYXJkRm9ybVN1Ym1pdChldnQpIHtcbiAgaGFuZGxlU3VibWl0KFxuICAgICgpID0+IHtcbiAgICAgIHJldHVybiBhcGkuZGVsZXRlQ2FyZChzZWxlY3RlZENhcmRJZCkudGhlbigoKSA9PiB7XG4gICAgICAgIHNlbGVjdGVkQ2FyZC5yZW1vdmUoKTtcbiAgICAgICAgY2xvc2VNb2RhbChkZWxldGVDYXJkTW9kYWwpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBldnQsXG4gICAgXCJEZWxldGluZy4uLlwiXG4gICk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KGV2dCkge1xuICBoYW5kbGVTdWJtaXQoKCkgPT4ge1xuICAgIHJldHVybiBhcGlcbiAgICAgIC5lZGl0VXNlckluZm8oe1xuICAgICAgICBuYW1lOiBwcm9maWxlTmFtZUlucHV0LnZhbHVlLFxuICAgICAgICBhYm91dDogcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUsXG4gICAgICB9KVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgICAgIHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG4gICAgICAgIGNsb3NlTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XG4gICAgICB9KTtcbiAgfSwgZXZ0KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZVBpY0Zvcm1TdWJtaXQoZXZ0KSB7XG4gIGhhbmRsZVN1Ym1pdCgoKSA9PiB7XG4gICAgcmV0dXJuIGFwaVxuICAgICAgLmVkaXRVc2VyQXZhdGFyKHtcbiAgICAgICAgYXZhdGFyOiBwcm9maWxlUGljSW5wdXQudmFsdWUsXG4gICAgICB9KVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgcHJvZmlsZVBpYy5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgICAgICAgY2xvc2VNb2RhbChwcm9maWxlUGljTW9kYWwpO1xuICAgICAgICBkaXNhYmxlQnV0dG9uKGV2dC5zdWJtaXR0ZXIsIHNldHRpbmdzKTtcbiAgICAgIH0pO1xuICB9LCBldnQpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVOZXdQb3N0Rm9ybVN1Ym1pdChldnQpIHtcbiAgY29uc3QgbmV3Q2FyZERhdGEgPSB7XG4gICAgbmFtZTogbmV3UG9zdENhcHRpb25JbnB1dC52YWx1ZSxcbiAgICBsaW5rOiBuZXdQb3N0TGlua0lucHV0LnZhbHVlLFxuICB9O1xuXG4gIGhhbmRsZVN1Ym1pdCgoKSA9PiB7XG4gICAgcmV0dXJuIGFwaS5hZGRDYXJkKG5ld0NhcmREYXRhKS50aGVuKChjYXJkRGF0YVdpdGhJZCkgPT4ge1xuICAgICAgcmVuZGVyQ2FyZChjYXJkRGF0YVdpdGhJZCk7XG4gICAgICBjbG9zZU1vZGFsKG5ld1Bvc3RNb2RhbCk7XG4gICAgICBldnQudGFyZ2V0LnJlc2V0KCk7XG4gICAgICBkaXNhYmxlQnV0dG9uKG1vZGFsU3VibWl0QnV0dG9uLCBzZXR0aW5ncyk7XG4gICAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgICBldnQudGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoc2V0dGluZ3MuaW5wdXRTZWxlY3RvcilcbiAgICAgICk7XG4gICAgICByZXNldFZhbGlkYXRpb24oZXZ0LnRhcmdldCwgaW5wdXRMaXN0LCBzZXR0aW5ncyk7XG4gICAgfSk7XG4gIH0sIGV2dCk7XG59XG5cbm1vZGFsQ2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICBjb25zdCByZWxhdGVkTW9kYWwgPSBidXR0b24uY2xvc2VzdChcIi5tb2RhbFwiKTtcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBjbG9zZU1vZGFsKHJlbGF0ZWRNb2RhbCkpO1xufSk7XG5cbm1vZGFsRWxlbWVudHMuZm9yRWFjaCgobW9kYWwpID0+IHtcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gbW9kYWwpIHtcbiAgICAgIGNsb3NlTW9kYWwobW9kYWwpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuZWRpdFByb2ZpbGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgcHJvZmlsZU5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVOYW1lLnRleHRDb250ZW50O1xuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudDtcbiAgcmVzZXRWYWxpZGF0aW9uKFxuICAgIGVkaXRQcm9maWxlTW9kYWwsXG4gICAgW3Byb2ZpbGVOYW1lSW5wdXQsIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0XSxcbiAgICBzZXR0aW5nc1xuICApO1xuICBvcGVuTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XG59KTtcblxucHJvZmlsZVBpY0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBvcGVuTW9kYWwocHJvZmlsZVBpY01vZGFsKTtcbn0pO1xuXG5uZXdQb3N0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIG9wZW5Nb2RhbChuZXdQb3N0TW9kYWwpO1xufSk7XG5cbnByb2ZpbGVQaWNGb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZVByb2ZpbGVQaWNGb3JtU3VibWl0KTtcbnByb2ZpbGVGb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KTtcbmRlbGV0ZUNhcmRGb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZURlbGV0ZUNhcmRGb3JtU3VibWl0KTtcbmFkZENhcmRGb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZU5ld1Bvc3RGb3JtU3VibWl0KTtcbmRlbGV0ZUNhcmRDYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY2xvc2VNb2RhbChkZWxldGVDYXJkTW9kYWwpO1xufSk7XG5cbmFwaVxuICAuZ2V0QXBwSW5mbygpXG4gIC50aGVuKChbdXNlckluZm8sIGNhcmRzXSkgPT4ge1xuICAgIGNhcmRzLmZvckVhY2goZnVuY3Rpb24gKGNhcmREYXRhKSB7XG4gICAgICByZW5kZXJDYXJkKGNhcmREYXRhLCBcImFwcGVuZFwiKTtcbiAgICB9KTtcblxuICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdXNlckluZm8ubmFtZTtcbiAgICBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB1c2VySW5mby5hYm91dDtcbiAgICBwcm9maWxlUGljLnNyYyA9IHVzZXJJbmZvLmF2YXRhcjtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgaW5pdGlhbCBjYXJkczpcIiwgZXJyKTtcbiAgfSk7XG5cbmVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpO1xuIiwiY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIGdldEFwcEluZm8oKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldFVzZXJJbmZvKCksIHRoaXMuZ2V0SW5pdGlhbENhcmRzKCldKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIGVkaXRVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGVkaXRVc2VyQXZhdGFyKHsgYXZhdGFyIH0pIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgZWRpdExpa2VTdGF0dXMoeyBjYXJkSWQsIGlzTGlrZWQgfSkge1xuICAgIGNvbnNvbGUubG9nKGlzTGlrZWQpO1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogaXNMaWtlZCA/IFwiUFVUXCIgOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbGluayxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIF9yZXF1ZXN0KHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiBmZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBpO1xuIl0sIm5hbWVzIjpbInNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJoaWRlSW5wdXRFcnJvciIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiY29uZmlnIiwiZXJyb3JFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImlkIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidGV4dENvbnRlbnQiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsImhhc0ludmFsaWRJbnB1dCIsImRpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsImFkZCIsInJlc2V0VmFsaWRhdGlvbiIsImZvckVhY2giLCJpbnB1dCIsInJlbmRlckxvYWRpbmciLCJpc0xvYWRpbmciLCJidXR0b24iLCJidXR0b25UZXh0IiwibG9hZGluZ1RleHQiLCJoYW5kbGVTdWJtaXQiLCJyZXF1ZXN0IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJzdWJtaXRCdXR0b24iLCJzdWJtaXR0ZXIiLCJpbml0aWFsVGV4dCIsInRoZW4iLCJ0YXJnZXQiLCJyZXNldCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiZmluYWxseSIsImxvZ29JbWciLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicHJvZmlsZVBpYyIsInNyYyIsImFwaSIsImNvbnN0cnVjdG9yIiwiYmFzZVVybCIsImhlYWRlcnMiLCJ0aGlzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsImdldEFwcEluZm8iLCJQcm9taXNlIiwiYWxsIiwiZ2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJfcmVxdWVzdCIsImVkaXRVc2VySW5mbyIsIm5hbWUiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZWRpdFVzZXJBdmF0YXIiLCJhdmF0YXIiLCJlZGl0TGlrZVN0YXR1cyIsImNhcmRJZCIsImlzTGlrZWQiLCJsb2ciLCJkZWxldGVDYXJkIiwiYWRkQ2FyZCIsImxpbmsiLCJfY2hlY2tSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsInJlamVjdCIsInN0YXR1cyIsInVybCIsIm9wdGlvbnMiLCJmZXRjaCIsImF1dGhvcml6YXRpb24iLCJlZGl0UHJvZmlsZUJ0biIsImVkaXRQcm9maWxlTW9kYWwiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVEZXNjcmlwdGlvbiIsInByb2ZpbGVGb3JtRWxlbWVudCIsInByb2ZpbGVOYW1lSW5wdXQiLCJwcm9maWxlRGVzY3JpcHRpb25JbnB1dCIsInByb2ZpbGVQaWNNb2RhbCIsInByb2ZpbGVQaWNCdG4iLCJwcm9maWxlUGljRm9ybUVsZW1lbnQiLCJwcm9maWxlUGljSW5wdXQiLCJkZWxldGVDYXJkTW9kYWwiLCJkZWxldGVDYXJkRm9ybUVsZW1lbnQiLCJkZWxldGVDYXJkQ2FuY2VsQnRuIiwibmV3UG9zdEJ0biIsIm5ld1Bvc3RNb2RhbCIsIm1vZGFsU3VibWl0QnV0dG9uIiwibW9kYWxDbG9zZUJ1dHRvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibW9kYWxFbGVtZW50cyIsImFkZENhcmRGb3JtRWxlbWVudCIsIm5ld1Bvc3RDYXB0aW9uSW5wdXQiLCJuZXdQb3N0TGlua0lucHV0IiwiY2FyZHNDb250YWluZXIiLCJjYXJkVGVtcGxhdGUiLCJjb250ZW50IiwicHJldmlld01vZGFsRWxlbWVudCIsInByZXZpZXdNb2RhbEltYWdlIiwicHJldmlld01vZGFsQ2FwdGlvbiIsInNlbGVjdGVkQ2FyZCIsInNlbGVjdGVkQ2FyZElkIiwib3Blbk1vZGFsIiwibW9kYWwiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xvc2VPcGVuTW9kYWxzT25Fc2NhcGUiLCJjbG9zZU1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsImNvbnRhaW5zIiwicmVuZGVyQ2FyZCIsImNhcmREYXRhIiwibmV3Q2FyZCIsImRhdGEiLCJjYXJkRWxlbWVudCIsImNsb25lTm9kZSIsImNhcmRUaXRsZUVsIiwiY2FyZEltYWdlRWwiLCJsaWtlQnRuRWxlbWVudCIsImNhcmREZWxldGVFbCIsImFsdCIsInRvZ2dsZSIsImhhbmRsZUxpa2VCdG5DbGljayIsIl9pZCIsImhhbmRsZURlbGV0ZUNhcmQiLCJoYW5kbGVJbWFnZUNsaWNrIiwiZ2V0Q2FyZEVsZW1lbnQiLCJyZWxhdGVkTW9kYWwiLCJjbG9zZXN0IiwidmFsdWUiLCJuZXdDYXJkRGF0YSIsImNhcmREYXRhV2l0aElkIiwiQXJyYXkiLCJmcm9tIiwidXNlckluZm8iLCJjYXJkcyIsImZvcm1FbCIsInNldEV2ZW50TGlzdGVuZXJzIiwiZXZlbnQiLCJjaGVja0lucHV0VmFsaWRpdHkiLCJzaG93SW5wdXRFcnJvciIsImVycm9yTWVzc2FnZSIsInZhbGlkYXRpb25NZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==